@model IEnumerable<LibraryProject.Models.EF.Book>

@{
    ViewData["Title"] = "Index";
}
<div class="header">
<h1>Check Out Our Selection</h1>
</div>
<div class="create">
    <a class="button" asp-action="Create">Create New</a>
</div>
<!--Search Bar Here-->
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search..." title="Type in a name">


<table class="table" id="myTable">
    
        <tr class="header">
            <th>
                @Html.DisplayNameFor(model => model.Isbn)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Title)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Author)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PublishYear)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Category)
            </th>
            <th></th>
        </tr>
    
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Isbn)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Title)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Author)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PublishYear)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Category)
            </td>
            <td>
                    <a class="button-sm"  asp-action="Edit" asp-route-id="@item.BookId">Edit</a> 
                    <a class="button-sm" asp-action="Details" asp-route-id="@item.BookId">Details</a> 
                    <a class="button-sm" asp-action="Delete" asp-route-id="@item.BookId">Delete</a>

            </td>
        </tr>
}
</table>

            @section scripts{
    <script>
        function myFunction() {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            table = document.getElementById("myTable");
            tr = table.getElementsByTagName("tr");
            for (i = 0; i < tr.length; i++) {
                a = tr[i].getElementsByTagName("td")[0];
                b = tr[i].getElementsByTagName("td")[1];
                c = tr[i].getElementsByTagName("td")[2];
                d = tr[i].getElementsByTagName("td")[3];
                e = tr[i].getElementsByTagName("td")[4];
                if (a || b || c || d || e) {
                    txtValueA = a.textContent || a.innerText;
                    txtValueB = b.textContent || b.innerText;
                    txtValueC = c.textContent || c.innerText;
                    txtValueD = d.textContent || d.innerText;
                    txtValueE = e.textContent || e.innerText;
                    if (txtValueA.toUpperCase().indexOf(filter) > -1
                        || txtValueB.toUpperCase().indexOf(filter) > -1
                        || txtValueC.toUpperCase().indexOf(filter) > -1
                        || txtValueD.toUpperCase().indexOf(filter) > -1
                        || txtValueE.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    </script>
            }